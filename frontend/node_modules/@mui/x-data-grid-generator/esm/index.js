import{r as c,g as _,a as ee,_ as ae,b as re,c as te}from"./_tslib-138e8aec.js";export{D as DemoLink,a7 as generateFilledQuantity,a8 as generateIsFilled,g as getCommodityColumns,a as getEmployeeColumns,b as getRealGridData,v as random,Y as randomAddress,r as randomArrayItem,A as randomBoolean,U as randomBrokerId,Z as randomCity,B as randomColor,F as randomCommodity,V as randomCompanyName,a0 as randomContractType,W as randomCountry,a2 as randomCreatedDate,X as randomCurrency,z as randomDate,E as randomDesk,I as randomEmail,O as randomFeeRate,C as randomId,P as randomIncoterm,w as randomInt,a4 as randomJobTitle,S as randomMaturityDate,a6 as randomName,K as randomPhoneNumber,R as randomPnL,x as randomPrice,N as randomQuantity,y as randomRate,a1 as randomRateType,a5 as randomRating,Q as randomStatusOptions,$ as randomTaxCode,T as randomTradeDate,G as randomTraderName,L as randomUnitPrice,M as randomUnitPriceCurrency,a3 as randomUpdatedDate,J as randomUrl,H as randomUserName,d as renderAvatar,e as renderCountry,u as renderEditCountry,o as renderEditCurrency,s as renderEditIncoterm,p as renderEditProgress,t as renderEditRating,q as renderEditStatus,f as renderEmail,h as renderIncoterm,i as renderLink,j as renderPnl,k as renderProgress,l as renderRating,m as renderStatus,n as renderTotalPrice}from"./_tslib-138e8aec.js";import*as oe from"react";import ne from"lru-cache";import"@mui/material/Avatar";import"chance";import"@mui/material/colors";import"@mui/styles";import"@mui/material/Tooltip";import"@mui/icons-material/Info";import"clsx";import"@mui/material/styles";import"@mui/material/Rating";import"@mui/icons-material/ReportProblem";import"@mui/icons-material/Autorenew";import"@mui/icons-material/Done";import"@mui/material/Chip";import"@mui/material/Autocomplete";import"@mui/material/InputBase";import"@mui/material/Slider";import"@mui/material/utils";import"@mui/material/Select";import"@mui/material/MenuItem";import"@mui/material/ListItemIcon";import"@mui/material/ListItemText";const ie=(e,a={})=>{var r;const{averageChildren:t=2,maxDepth:o=1,groupingField:n}=a;if(!(o>1&&null!=n))return e;if(e.rows.length>1e3)throw new Error("MUI: useDemoData tree data mode only works up to 1000 rows.");const i={},s=e.rows.length,m=e.columns.find((e=>e.field===a.groupingField));if(!m)throw new Error("MUI: The tree data grouping field does not exist");m.hide=!0;for(let a=0;a<s;a+=1){const r=e.rows[a],n=Math.floor(a*(Math.pow(t,o)-1)/s)+1,m=Math.floor(Math.log(n)/Math.log(t));i[m]||(i[m]={rows:{},rowIndexes:[]}),i[m].rows[a]={value:r,parentIndex:null},i[m].rowIndexes.push(a)}return Object.entries(i).forEach((([e,{rows:a}])=>{const r=Number(e);Object.values(a).forEach((e=>{const a=[];let t=null;for(let o=r;o>=0;o-=1){let s;o===r?(r>0&&(e.parentIndex=Number(c(i[r-1].rowIndexes))),s=e):s=i[o].rows[t.parentIndex],a.unshift(s.value[n]),t=s}e.value.path=a}))})),Object.assign(Object.assign({},e),{groupingColDef:{headerName:null!==(r=m.headerName)&&void 0!==r?r:m.field,width:250},getTreeDataPath:e=>e.path,treeData:!0})},se=new ne({max:10,maxAge:3e5});const me=e=>{const a=Object.getOwnPropertyNames(e);for(const r of a){const a=e[r];a&&"object"==typeof a&&me(a)}return Object.freeze(e)},de=e=>{var a,r,t;const[o,n]=oe.useState(e.rowLength),[i,s]=oe.useState(0),[m,d]=oe.useState(!0),l=oe.useCallback((()=>{let a="Commodity"===e.dataSet?_(e.editable):ee();return e.maxColumns&&(a=a.slice(0,e.maxColumns)),a}),[e.dataSet,e.editable,e.maxColumns]),[u,c]=oe.useState((()=>ie({columns:l(),rows:[]},e.treeData)));return oe.useEffect((()=>{const a=`${e.dataSet}-${o}-${i}-${e.maxColumns}`;if(se.has(a)){const e=se.get(a);return c(e),void d(!1)}let r=!0;return ae(void 0,void 0,void 0,(function*(){var t,n,i;let s;d(!0);const m=l();o>1e3?(s=yield re(1e3,m),s=yield function(e,a,r){return ae(this,void 0,void 0,(function*(){return new Promise((t=>{const o=r.rows,n=r.rows.slice(),i={current:e-o.length};te({work:function(){const e={};for(let r=0;r<a.length;r+=1){const t=a[r],n=Math.round(Math.random()*(o.length-1));"id"===t.field?e.id=`id-${i.current+o.length}`:e[t.field]=o[n][t.field]}n.push(e),i.current-=1},done:()=>t(Object.assign(Object.assign({},r),{rows:n})),tasks:i})}))}))}(o,m,s)):s=yield re(o,m),r&&(s=ie(s,{maxDepth:null===(t=e.treeData)||void 0===t?void 0:t.maxDepth,groupingField:null===(n=e.treeData)||void 0===n?void 0:n.groupingField,averageChildren:null===(i=e.treeData)||void 0===i?void 0:i.averageChildren}),"production"!==process.env.NODE_ENV&&me(s),se.set(a,s),c(s),d(!1))})),()=>{r=!1}}),[o,u.columns,e.dataSet,e.maxColumns,null===(a=e.treeData)||void 0===a?void 0:a.maxDepth,null===(r=e.treeData)||void 0===r?void 0:r.groupingField,null===(t=e.treeData)||void 0===t?void 0:t.averageChildren,i,l]),{data:u,loading:m,setRowLength:n,loadNewData:()=>{s((e=>e+1))}}};export{de as useDemoData};
